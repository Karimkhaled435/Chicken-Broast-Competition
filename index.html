<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù† - ØªØ´ÙŠÙƒÙ† Ø¨Ø±ÙˆÙŠØ³Øª</title>
    
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

    <style>
        /* --- ØªÙ†Ø³ÙŠÙ‚Ø§Øª CSS --- */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: radial-gradient(circle at center, #1a1a2e 0%, #0f0f1a 100%); 
            color: #fff; 
            min-height: 100vh; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            overflow-x: hidden; 
            user-select: none; /* Ù…Ù†Ø¹ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù†Øµ */
        }
        
        /* Ø®Ù„ÙÙŠØ© Ø²Ø®Ø±ÙÙŠØ© */
        body::before {
            content: "";
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-image: url("https://www.transparenttextures.com/patterns/arabesque.png");
            opacity: 0.05; pointer-events: none; z-index: -1;
        }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù„ÙˆØ¬Ùˆ */
        .logo-bar {
            position: fixed; top: 0; left: 0; width: 100%; height: 70px;
            background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px);
            display: flex; justify-content: center; align-items: center;
            border-bottom: 1px solid rgba(237, 28, 36, 0.3); z-index: 50;
        }
        .logo-bar img { height: 50px; }

        /* Ø§Ù„ÙƒØ§Ø±Øª Ø§Ù„Ø²Ø¬Ø§Ø¬ÙŠ */
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            width: 90%; max-width: 600px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            margin-top: 80px;
            position: relative;
            overflow: hidden;
        }
        
        /* ØªØ£Ø«ÙŠØ± Ø§Ù„Ù†ÙŠÙˆÙ† */
        .glass-card::after {
            content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
            background: linear-gradient(90deg, transparent, #ED1C24, #0059FF, transparent);
        }

        /* Ø§Ù„Ø¹Ù†Ø§ÙˆÙŠÙ† ÙˆØ§Ù„Ù†ØµÙˆØµ */
        h1, h2 { text-align: center; margin-bottom: 10px; text-shadow: 0 0 10px rgba(0,0,0,0.5); }
        .subtitle { text-align: center; color: #ccc; font-size: 0.9rem; margin-bottom: 20px; }
        
        /* Ø§Ù„Ø¹Ø¯Ø§Ø¯ */
        .timer-box {
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(0, 0, 0, 0.3); padding: 10px 15px; border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1); margin-bottom: 20px;
        }
        .timer-text { font-size: 1.2rem; font-weight: bold; color: #ED1C24; font-family: monospace; }
        .timer-text.blink { animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }

        /* Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
        input, textarea {
            width: 100%; padding: 12px; margin: 10px 0;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px; color: #fff;
            font-family: inherit; transition: 0.3s;
        }
        input:focus, textarea:focus {
            outline: none; border-color: #0059FF;
            box-shadow: 0 0 10px rgba(0, 89, 255, 0.3);
        }

        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            width: 100%; padding: 12px; border: none; border-radius: 10px;
            font-weight: bold; cursor: pointer; margin-top: 10px;
            background: linear-gradient(45deg, #ED1C24, #c40008);
            color: white; transition: 0.3s;
            box-shadow: 0 4px 15px rgba(237, 28, 36, 0.3);
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(237, 28, 36, 0.5); }
        .btn-nav { display: flex; gap: 10px; }
        .btn-prev { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); }

        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .progress-container { width: 100%; background: rgba(255,255,255,0.1); height: 6px; border-radius: 3px; margin-bottom: 20px; overflow: hidden; }
        .progress-bar { height: 100%; background: #0059FF; width: 0%; transition: 0.3s; }

        /* Ø§Ù„Ø£Ù‚Ø³Ø§Ù… */
        .section { display: none; animation: fadeIn 0.5s ease; }
        .section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø®ÙÙŠØ© (Ù„Ù„ØªØµÙˆÙŠØ±) */
        #capture-area {
            position: fixed; top: -9999px; left: -9999px; width: 500px;
            background: #16213e; padding: 40px; border-radius: 20px;
            text-align: center; color: white;
            border: 2px solid #ED1C24;
        }

        /* Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø­Ø¸Ø± */
        .fullscreen-msg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); z-index: 9999;
            display: none; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
        }
        .fullscreen-msg i { font-size: 4rem; margin-bottom: 20px; }
    </style>
</head>
<body oncontextmenu="return false;">

    <div class="logo-bar">
        <img src="https://i.postimg.cc/x8wFPdB0/455633594-939216711554335-6005038485016903625-n.jpg" alt="Logo">
    </div>

    <div class="glass-card">
        
        <div id="step-start" class="section active">
            <h1>Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù† Ø§Ù„ÙƒØ¨Ø±Ù‰ ğŸŒ™</h1>
            <p class="subtitle">Ø¬Ø§ÙˆØ¨ ØµØ­ ÙˆØ§ÙƒØ³Ø¨ Ù…Ø¹ ØªØ´ÙŠÙƒÙ† Ø¨Ø±ÙˆÙŠØ³Øª!</p>
            
            <div style="background: rgba(255,0,0,0.15); padding: 10px; border-radius: 8px; border: 1px dashed #ED1C24; font-size: 0.8rem; margin-bottom: 20px;">
                âš ï¸ <strong>ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…:</strong> Ù„Ø¯ÙŠÙƒ 3 Ø¯Ù‚Ø§Ø¦Ù‚ ÙÙ‚Ø·. Ù…Ù…Ù†ÙˆØ¹ Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØºØ´ ÙˆØ¥Ù„Ø§ Ø³ÙŠØªÙ… Ø­Ø¸Ø±Ùƒ ÙÙˆØ±Ø§Ù‹.
            </div>

            <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ:</label>
            <input type="text" id="username" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§...">
            <button class="btn" onclick="startQuiz()">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ ğŸš€</button>
        </div>

        <div id="step-quiz" class="section">
            <div class="timer-box">
                <span>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:</span>
                <span id="timer-display" class="timer-text">03:00</span>
            </div>

            <div class="progress-container"><div id="progress-bar" class="progress-bar"></div></div>

            <div id="question-container">
                <h3 id="q-text">Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„...</h3>
                <textarea id="q-answer" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø¥Ø¬Ø§Ø¨ØªÙƒ Ù‡Ù†Ø§..."></textarea>
            </div>

            <div class="btn-nav">
                <button id="btn-prev" class="btn btn-prev" onclick="prevQ()" style="display:none">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
                <button id="btn-next" class="btn" onclick="nextQ()">Ø§Ù„ØªØ§Ù„ÙŠ</button>
                <button id="btn-submit" class="btn" onclick="submitQuiz()" style="display:none; background:#28a745;">Ø¥Ù†Ù‡Ø§Ø¡ ÙˆØ¥Ø±Ø³Ø§Ù„ âœ…</button>
            </div>
        </div>

        <div id="step-result" class="section" style="text-align: center;">
            <h1>ğŸ‰ ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!</h1>
            <p>Ù†ØªÙŠØ¬ØªÙƒ Ù‡ÙŠ:</p>
            <h2 id="final-score" style="font-size: 3rem; color: #0059FF;">0/5</h2>
            
            <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; margin: 20px 0;">
                <p style="margin-bottom: 5px; font-size: 0.9rem; color: #ccc;">Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ (Ø§Ø­ØªÙØ¸ Ø¨Ù‡):</p>
                <h3 id="secret-code" style="color: #ED1C24; font-family: monospace; letter-spacing: 2px;">Generating...</h3>
                <button onclick="copyCode()" style="background:none; border:none; color:#0059FF; cursor:pointer; font-size:0.8rem;">Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯ ğŸ“‹</button>
            </div>

            <p style="font-size: 0.9rem; margin-bottom: 20px;">
                ğŸ“¸ <strong>Ù…Ø·Ù„ÙˆØ¨:</strong> Ø§Ø¶ØºØ· Ø§Ù„Ø²Ø± Ø¨Ø§Ù„Ø£Ø³ÙÙ„ Ù„ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©ØŒ Ø«Ù… Ø´Ø§Ø±ÙƒÙ‡Ø§ ÙÙŠ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù…Ø¹ Ù…Ù†Ø´Ù† Ù„Ø£ØµØ­Ø§Ø¨Ùƒ!
            </p>

            <button class="btn" onclick="downloadResult()">ğŸ“¸ ØªØ­Ù…ÙŠÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©</button>
        </div>

    </div>

    <div id="ban-screen" class="fullscreen-msg">
        <i class="icon">â›”</i>
        <h1 style="color: #ED1C24;">ØªÙ… Ø­Ø¸Ø±Ùƒ!</h1>
        <p>Ù„Ù‚Ø¯ Ø­Ø§ÙˆÙ„Øª Ø§Ù„Ø®Ø±ÙˆØ¬ Ù…Ù† Ø§Ù„ØµÙØ­Ø© Ø£Ùˆ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª.</p>
    </div>

    <div id="capture-area">
        <img src="https://i.postimg.cc/x8wFPdB0/455633594-939216711554335-6005038485016903625-n.jpg" style="width: 80px; border-radius: 50%; border: 3px solid #ED1C24; margin-bottom: 10px;">
        <h2 style="margin: 0;">Ù…Ø³Ø§Ø¨Ù‚Ø© Ø±Ù…Ø¶Ø§Ù†</h2>
        <p style="color: #ccc; margin-top: 5px;">ØªØ´ÙŠÙƒÙ† Ø¨Ø±ÙˆÙŠØ³Øª</p>
        <div style="margin: 20px 0; border-top: 1px solid #555; border-bottom: 1px solid #555; padding: 20px 0;">
            <h3 id="cap-name">Ø§Ù„Ø§Ø³Ù…</h3>
            <h1 id="cap-score" style="font-size: 4rem; color: #ED1C24; margin: 10px 0;">0/5</h1>
        </div>
        <p>Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ: <span id="cap-code" style="font-family: monospace; color: #0059FF;">CODE</span></p>
    </div>

    <script>
        // --- 1. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ---
        (function(){
            emailjs.init("aciXoyz9gZFbN4N0d"); // Public Key Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        })();

        const questions = [
            { t: "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ØµØ­Ø§Ø¨ÙŠ Ø§Ù„Ø°ÙŠ ØºØ³Ù‘Ù„ØªÙ‡ Ø§Ù„Ù…Ù„Ø§Ø¦ÙƒØ©ØŸ", a: ["Ø­Ù†Ø¸Ù„Ø©", "Ø§Ø¨ÙŠ Ø¹Ø§Ù…Ø±"] },
            { t: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø±Ø§Øª Ø§Ù„ØªÙŠ Ø°ÙÙƒØ± ÙÙŠÙ‡Ø§ Ø§Ø³Ù… Ø¬Ø¨Ø±ÙŠÙ„ ØµØ±Ø§Ø­Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ", a: ["3", "Ø«Ù„Ø§Ø«", "ØªÙ„Ø§Øª"] },
            { t: "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø³ÙˆØ± Ø§Ù„ØªÙŠ Ø¨Ø¯Ø£Øª Ø¨Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ù…Ù‚Ø·Ø¹Ø©ØŸ", a: ["29", "ØªØ³Ø¹ ÙˆØ¹Ø´Ø±ÙŠÙ†"] },
            { t: "Ù…Ù† Ù‡Ùˆ Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø¨ÙŠ ÙÙŠ Ø§Ù„Ù‡Ø¬Ø±Ø© (ØºÙŠØ± Ø§Ù„Ù…Ø³Ù„Ù…)ØŸ", a: ["Ø¹Ø¨Ø¯ Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø§Ø±ÙŠÙ‚Ø·", "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¨Ù† Ø§Ø±ÙŠÙ‚Ø·", "Ø§Ø±ÙŠÙ‚Ø·"] },
            { t: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… ÙƒØ§Ù†Øª ØºØ²ÙˆØ© Ø¨Ø¯Ø±ØŸ", a: ["2", "Ø«Ø§Ù†ÙŠØ©", "Ø§Ù„Ø«Ø§Ù†ÙŠØ©", "Ø³Ù†ØªÙŠÙ†"] }
        ];

        let currentQ = 0;
        let score = 0;
        let answers = {};
        let userName = "";
        let secretCode = "";
        let timerInterval;
        let timeLeft = 180; // 3 Ø¯Ù‚Ø§Ø¦Ù‚
        let isBanned = localStorage.getItem('cb_banned') === 'true';

        // --- 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø¸Ø± ---
        if(isBanned) document.getElementById('ban-screen').style.display = 'flex';

        // --- 3. Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø³Ø§Ø¨Ù‚Ø© ---
        function startQuiz() {
            userName = document.getElementById('username').value.trim();
            if(userName.length < 3) return Swal.fire('ØªÙ†Ø¨ÙŠÙ‡', 'ÙŠØ±Ø¬Ù‰ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ', 'warning');

            document.getElementById('step-start').classList.remove('active');
            document.getElementById('step-quiz').classList.add('active');
            
            showQuestion();
            startTimer();
            activateAntiCheat();
        }

        // --- 4. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ---
        function showQuestion() {
            document.getElementById('q-text').innerText = `Ø³Ø¤Ø§Ù„ ${currentQ + 1}: ${questions[currentQ].t}`;
            document.getElementById('q-answer').value = answers[`q${currentQ}`] || "";
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            document.getElementById('btn-prev').style.display = currentQ === 0 ? 'none' : 'inline-block';
            document.getElementById('btn-next').style.display = currentQ === 4 ? 'none' : 'inline-block';
            document.getElementById('btn-submit').style.display = currentQ === 4 ? 'inline-block' : 'none';
            
            // Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            document.getElementById('progress-bar').style.width = `${((currentQ+1)/5)*100}%`;
        }

        function nextQ() {
            saveAnswer();
            if(currentQ < 4) { currentQ++; showQuestion(); }
        }

        function prevQ() {
            saveAnswer();
            if(currentQ > 0) { currentQ--; showQuestion(); }
        }

        function saveAnswer() {
            answers[`q${currentQ}`] = document.getElementById('q-answer').value.trim();
        }

        // --- 5. Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙ†Ø§Ø²Ù„ÙŠ ---
        function startTimer() {
            const display = document.getElementById('timer-display');
            timerInterval = setInterval(() => {
                timeLeft--;
                let m = Math.floor(timeLeft / 60);
                let s = timeLeft % 60;
                display.innerText = `0${m}:${s < 10 ? '0'+s : s}`;
                
                if(timeLeft < 30) display.classList.add('blink');
                if(timeLeft <= 0) banUser();
            }, 1000);
        }

        // --- 6. Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡ ÙˆØ§Ù„Ø¥Ø±Ø³Ø§Ù„ ---
        function submitQuiz() {
            saveAnswer();
            clearInterval(timerInterval);

            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©
            questions.forEach((q, index) => {
                let userAns = (answers[`q${index}`] || "").toLowerCase();
                let isCorrect = q.a.some(key => userAns.includes(key));
                if(isCorrect) score++;
            });

            // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯
            secretCode = "CB-" + Math.floor(100000 + Math.random() * 900000);
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('step-quiz').classList.remove('active');
            document.getElementById('step-result').classList.add('active');
            document.getElementById('final-score').innerText = `${score}/5`;
            document.getElementById('secret-code').innerText = secretCode;

            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„
            sendEmail();
        }

        // --- 7. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ (EmailJS) ---
        function sendEmail() {
            // ğŸ›‘ğŸ›‘ğŸ›‘ ØºÙŠØ± Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù„ÙŠ ØªØ­Øª Ø¯Ù‡ Ø¨Ø§Ù„Ù€ Service ID Ø¨ØªØ§Ø¹Ùƒ
            const serviceID = "Ø¶Ø¹_SERVICE_ID_Ù‡Ù†Ø§"; 
            const templateID = "template_ayg67ja";

            const params = {
                to_email: "karimkhaled435@gmail.com",
                player_name: userName,
                score: score,
                secret_code: secretCode,
                answers: JSON.stringify(answers, null, 2),
                device_id: navigator.userAgent
            };

            if(serviceID !== "Ø¶Ø¹_SERVICE_ID_Ù‡Ù†Ø§") {
                emailjs.send(serviceID, templateID, params)
                    .then(() => console.log("Email Sent!"))
                    .catch(err => console.error("Email Failed", err));
            } else {
                console.warn("âš ï¸ Ù„Ù… ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ù„Ø£Ù†Ùƒ Ù„Ù… ØªØ¶Ø¹ Service ID");
            }
        }

        // --- 8. Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ù…Ø§ÙŠØ© (Anti-Cheat) ---
        function activateAntiCheat() {
            document.addEventListener("visibilitychange", () => {
                if(document.hidden) banUser();
            });
            window.onblur = () => banUser();
            // Ù…Ù†Ø¹ F12
            document.onkeydown = function(e) {
                if(e.keyCode == 123 || (e.ctrlKey && e.shiftKey && e.keyCode == 73)) return false;
            }
        }

        function banUser() {
            clearInterval(timerInterval);
            localStorage.setItem('cb_banned', 'true');
            document.getElementById('ban-screen').style.display = 'flex';
        }

        // --- 9. Ø£Ø¯ÙˆØ§Øª Ù…Ø³Ø§Ø¹Ø¯Ø© ---
        function copyCode() {
            navigator.clipboard.writeText(secretCode);
            Swal.fire({ icon: 'success', title: 'ØªÙ… Ø§Ù„Ù†Ø³Ø®', timer: 1500, showConfirmButton: false });
        }

        function downloadResult() {
            // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ø±Øª Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„Ù…Ø®ÙÙŠ
            document.getElementById('cap-name').innerText = userName;
            document.getElementById('cap-score').innerText = `${score}/5`;
            document.getElementById('cap-code').innerText = secretCode;

            const area = document.getElementById('capture-area');
            html2canvas(area, { scale: 2 }).then(canvas => {
                const link = document.createElement('a');
                link.download = `ChickenBroast_${secretCode}.png`;
                link.href = canvas.toDataURL();
                link.click();
            });
        }
    </script>
</body>
</html>
